[package]
name = "rari"
version = "0.5.9"
authors = { workspace = true }
edition = { workspace = true }
license = { workspace = true }
repository = { workspace = true }
description = "Runtime Accelerated Rendering Infrastructure - A high-performance React Server Components framework powered by Rust"
keywords = [
  "react",
  "server-components",
  "rsc",
  "ssr",
  "framework"
]
categories = [
  "web-programming",
  "web-programming::http-server"
]
readme = "../../README.md"
homepage = "https://github.com/rari-build/rari"
documentation = "https://github.com/rari-build/rari/tree/main/docs"

[package.metadata.cargo-machete]
ignored = [
  "num-bigint-dig",
  "windows-sys"
]

[lib]
crate-type = [ "rlib" ]
doctest = false

[[bin]]
name = "rari"
path = "src/bin/rari.rs"

[dependencies]
# === Core Runtime Dependencies ===
deno_core = "0.372.0"
deno_error = "=0.7.1"
deno_features = "0.19.0"
deno_bundle_runtime = "0.9.0"
deno_runtime = "0.230.0"
deno_permissions = "0.81.0"
deno_process = "0.37.0"

# === Essential Web APIs ===
deno_cache = "0.155.0"
deno_crypto = "0.236.0"
deno_fetch = "0.246.0"
deno_web = "0.253.0"
deno_webidl = "0.222.0"
deno_webstorage = "0.217.0"

# === Network & HTTP ===
deno_http = "0.220.0"
deno_net = "0.214.0"
deno_tls = "0.209.0"
deno_websocket = "0.227.0"

# === File System & I/O ===
deno_fs = "0.132.0"
deno_io = "0.132.0"

# === Advanced Features ===
deno_telemetry = "0.44.0"
deno_terminal = "=0.2.3"
deno_webgpu = "0.189.0"
deno_kv = "0.130.0"
deno_cron = "0.102.0"

# === Node.js Integration ===
deno_node = "0.160.0"
deno_resolver = "0.53.0"
node_resolver = "0.60.0"
num-bigint-dig = { workspace = true }

# === FFI & NAPI ===
deno_ffi = "0.209.0"
deno_napi = "0.153.0"

# === Async & Concurrency ===
async-stream = "0.3.6"
async-trait = "0.1.89"
futures = { version = "0.3.31", features = [ "std" ] }
futures-util = "0.3.31"
tokio = { version = "1.47.1", features = [ "full" ] }

# === Serialization ===
serde = { version = "1.0.219", features = [ "derive" ] }
serde_json = "1.0.143"
toml = "0.9.5"
base64 = "0.22.1"

# === HTTP Client & Server ===
http = "1.3.1"
reqwest = { version = "0.12.23", features = [
  "json",
  "stream",
  "rustls-tls",
], default-features = false }
axum = { version = "0.8.4", features = [
  "ws",
  "macros"
] }
tower = { version = "0.5.2", default-features = false, features = [ "full" ] }
tower-http = { version = "0.6.6", features = [
  "fs",
  "cors",
  "trace"
] }
tower_governor = "0.8.0"
governor = "0.10.2"
colored = "3.0.0"
url = "2.5.7"
urlencoding = "2.1.3"
tokio-tungstenite = { version = "0.27", features = [ "rustls-tls-native-roots" ] }
tungstenite = "0.27"

# === Utilities ===
bytes = "1.10.1"
dashmap = "6.1.0"
parking_lot = "0.12.4"
smallvec = { version = "1.15.1", features = [ "serde" ] }
regex = "1.11.2"
rustc-hash = "2.1.1"
lru = "0.16.1"
uuid = { version = "1.18.1", features = [
  "v4",
  "serde"
] }
thiserror = "2.0.16"
chrono = { version = "0.4", features = [ "serde" ] }

# === System Integration ===
hyper-util = { version = "0.1.17", features = [
  "tokio",
  "client",
  "client-legacy",
  "server",
  "server-auto",
] }
libc = "0.2.175"
nix = { version = "=0.27.1", features = [ "term" ] }
sys_traits = "=0.1.17"
sysinfo = "0.37.0"

# === Development Tools ===
rustyline = "=13.0.0"
deno_ast = { version = "=0.52.0", features = [ "transpiling" ] }
deno_package_json = { version = "0.24.0", default-features = false }
deno_semver = "=0.9.1"

# === Platform-specific Dependencies ===
winapi = { version = "0.3.9", features = [
  "wincon",
  "handleapi",
  "consoleapi",
  "minwindef",
] }
windows-sys = { version = "0.59.0", features = [
  "Win32_Networking",
  "Win32_Networking_WinSock",
  "Win32_System_SystemInformation",
] }

# === CLI & Logging ===
clap = { version = "4.5.47", features = [ "derive" ] }
tracing = "0.1.41"
tracing-subscriber = { version = "0.3.20", features = [ "env-filter" ] }
dotenvy = "0.15.7"

# === TLS & Crypto ===
rustls = { version = "=0.23.28", default-features = false, features = [
  "logging",
  "std",
  "tls12",
  "aws_lc_rs",
] }
hmac = "0.12.1"
sha2 = "0.10.9"
hex = "0.4.3"
rand = "0.9.2"

[dev-dependencies]
tracing-test = "0.2.5"
tempfile = "3.23.0"
